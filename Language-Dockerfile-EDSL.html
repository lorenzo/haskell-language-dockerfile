<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Language.Dockerfile.EDSL</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Language-Dockerfile-EDSL.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Language.Dockerfile.EDSL.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">language-dockerfile-0.3.6.0: Dockerfile linter, parser, pretty-printer and embedded DSL</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Language.Dockerfile.EDSL</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:EDockerfileM">EDockerfileM</a> = Free <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:EDockerfileTM">EDockerfileTM</a> = FreeT <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:EInstructionM">EInstructionM</a> = Free <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:EInstructionTM">EInstructionTM</a> = FreeT <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a></li><li class="src short"><a href="#v:embed">embed</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; [<a href="Language-Dockerfile-Syntax.html#t:InstructionPos">InstructionPos</a>] -&gt; m ()</li><li class="src short"><a href="#v:onBuildRaw">onBuildRaw</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Instruction">Instruction</a> -&gt; m ()</li><li class="src short"><a href="#v:healthcheck">healthcheck</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:comment">comment</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:arg">arg</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:env">env</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Pairs">Pairs</a> -&gt; m ()</li><li class="src short"><a href="#v:maintainer">maintainer</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:entrypointArgs">entrypointArgs</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Arguments">Arguments</a> -&gt; m ()</li><li class="src short"><a href="#v:volume">volume</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:expose">expose</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Ports">Ports</a> -&gt; m ()</li><li class="src short"><a href="#v:workdir">workdir</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Directory">Directory</a> -&gt; m ()</li><li class="src short"><a href="#v:shell">shell</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Arguments">Arguments</a> -&gt; m ()</li><li class="src short"><a href="#v:cmdArgs">cmdArgs</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Arguments">Arguments</a> -&gt; m ()</li><li class="src short"><a href="#v:runArgs">runArgs</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Arguments">Arguments</a> -&gt; m ()</li><li class="src short"><a href="#v:copy">copy</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Source">Source</a> -&gt; <a href="Language-Dockerfile-Syntax.html#t:Destination">Destination</a> -&gt; m ()</li><li class="src short"><a href="#v:stopSignal">stopSignal</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:label">label</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Pairs">Pairs</a> -&gt; m ()</li><li class="src short"><a href="#v:user">user</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:add">add</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Source">Source</a> -&gt; <a href="Language-Dockerfile-Syntax.html#t:Destination">Destination</a> -&gt; m ()</li><li class="src short"><a href="#v:from">from</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-EDSL-Types.html#t:EBaseImage">EBaseImage</a> -&gt; m ()</li><li class="src short"><a href="#v:runDockerWriter">runDockerWriter</a> :: MonadWriter [<a href="Language-Dockerfile-Syntax.html#t:Instruction">Instruction</a>] m =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileM">EDockerfileM</a> a -&gt; m a</li><li class="src short"><a href="#v:runDockerWriterIO">runDockerWriterIO</a> :: (<a href="../base-4.9.1.0/Control-Monad.html#t:Monad">Monad</a> m, <a href="../transformers-0.5.2.0/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> t, <a href="../base-4.9.1.0/Control-Monad.html#t:Monad">Monad</a> (t m), MonadWriter [<a href="Language-Dockerfile-Syntax.html#t:Instruction">Instruction</a>] (t m), <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> (t m)) =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileTM">EDockerfileTM</a> m a -&gt; t m a</li><li class="src short"><a href="#v:runDef">runDef</a> :: MonadWriter [t] m =&gt; (t1 -&gt; t) -&gt; t1 -&gt; m b -&gt; m b</li><li class="src short"><a href="#v:runDef2">runDef2</a> :: MonadWriter [t] m =&gt; (t1 -&gt; t2 -&gt; t) -&gt; t1 -&gt; t2 -&gt; m b -&gt; m b</li><li class="src short"><a href="#v:runD">runD</a> :: MonadWriter [<a href="Language-Dockerfile-Syntax.html#t:Instruction">Instruction</a>] m =&gt; <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> (m b) -&gt; m b</li><li class="src short"><a href="#v:instructionPos">instructionPos</a> :: <a href="Language-Dockerfile-Syntax.html#t:Instruction">Instruction</a> -&gt; <a href="Language-Dockerfile-Syntax.html#t:InstructionPos">InstructionPos</a></li><li class="src short"><a href="#v:toDockerfile">toDockerfile</a> :: <a href="Language-Dockerfile-EDSL.html#t:EDockerfileM">EDockerfileM</a> a -&gt; <a href="Language-Dockerfile-Syntax.html#t:Dockerfile">Dockerfile</a></li><li class="src short"><a href="#v:toDockerfileStr">toDockerfileStr</a> :: <a href="Language-Dockerfile-EDSL.html#t:EDockerfileM">EDockerfileM</a> a -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:untagged">untagged</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Dockerfile-EDSL-Types.html#t:EBaseImage">EBaseImage</a></li><li class="src short"><a href="#v:tagged">tagged</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Dockerfile-EDSL-Types.html#t:EBaseImage">EBaseImage</a></li><li class="src short"><a href="#v:digested">digested</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Language-Dockerfile-EDSL-Types.html#t:EBaseImage">EBaseImage</a></li><li class="src short"><a href="#v:ports">ports</a> :: [<a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a>] -&gt; <a href="Language-Dockerfile-Syntax.html#t:Ports">Ports</a></li><li class="src short"><a href="#v:port">port</a> :: <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="Language-Dockerfile-Syntax.html#t:Ports">Ports</a></li><li class="src short"><a href="#v:run">run</a> :: MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:entrypoint">entrypoint</a> :: MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:cmd">cmd</a> :: MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:onBuild">onBuild</a> :: MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileM">EDockerfileM</a> a -&gt; m ()</li><li class="src short"><a href="#v:toDockerfileIO">toDockerfileIO</a> :: <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m <a href="Language-Dockerfile-Syntax.html#t:Dockerfile">Dockerfile</a></li><li class="src short"><a href="#v:toDockerfileStrIO">toDockerfileStrIO</a> :: <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:runDockerfileIO">runDockerfileIO</a> :: <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m (t, <a href="Language-Dockerfile-Syntax.html#t:Dockerfile">Dockerfile</a>)</li><li class="src short"><a href="#v:runDockerfileStrIO">runDockerfileStrIO</a> :: <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m (t, <a href="../base-4.9.1.0/Data-String.html#t:String">String</a>)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EDockerfileM" class="def">EDockerfileM</a> = Free <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> <a href="src/Language.Dockerfile.EDSL.html#EDockerfileM" class="link">Source</a> <a href="#t:EDockerfileM" class="selflink">#</a></p><div class="doc"><p>The type of <code>Identity</code> based EDSL blocks</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EDockerfileTM" class="def">EDockerfileTM</a> = FreeT <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> <a href="src/Language.Dockerfile.EDSL.html#EDockerfileTM" class="link">Source</a> <a href="#t:EDockerfileTM" class="selflink">#</a></p><div class="doc"><p>The type of free monad EDSL blocks</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EInstructionM" class="def">EInstructionM</a> = Free <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> <a href="src/Language.Dockerfile.EDSL.html#EInstructionM" class="link">Source</a> <a href="#t:EInstructionM" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:EInstructionTM" class="def">EInstructionTM</a> = FreeT <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> <a href="src/Language.Dockerfile.EDSL.html#EInstructionTM" class="link">Source</a> <a href="#t:EInstructionTM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:embed" class="def">embed</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; [<a href="Language-Dockerfile-Syntax.html#t:InstructionPos">InstructionPos</a>] -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:embed" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:onBuildRaw" class="def">onBuildRaw</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Instruction">Instruction</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:onBuildRaw" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:healthcheck" class="def">healthcheck</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:healthcheck" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:comment" class="def">comment</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:comment" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:arg" class="def">arg</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:arg" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:env" class="def">env</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Pairs">Pairs</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:env" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:maintainer" class="def">maintainer</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:maintainer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:entrypointArgs" class="def">entrypointArgs</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Arguments">Arguments</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:entrypointArgs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:volume" class="def">volume</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:volume" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:expose" class="def">expose</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Ports">Ports</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:expose" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:workdir" class="def">workdir</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Directory">Directory</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:workdir" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:shell" class="def">shell</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Arguments">Arguments</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:shell" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cmdArgs" class="def">cmdArgs</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Arguments">Arguments</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:cmdArgs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runArgs" class="def">runArgs</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Arguments">Arguments</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:runArgs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:copy" class="def">copy</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Source">Source</a> -&gt; <a href="Language-Dockerfile-Syntax.html#t:Destination">Destination</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:copy" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:stopSignal" class="def">stopSignal</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:stopSignal" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:label" class="def">label</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Pairs">Pairs</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:label" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:user" class="def">user</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:user" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:add" class="def">add</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-Syntax.html#t:Source">Source</a> -&gt; <a href="Language-Dockerfile-Syntax.html#t:Destination">Destination</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:add" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:from" class="def">from</a> :: <span class="keyword">forall</span> m. MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-EDSL-Types.html#t:EBaseImage">EBaseImage</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#line-28" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runDockerWriter" class="def">runDockerWriter</a> :: MonadWriter [<a href="Language-Dockerfile-Syntax.html#t:Instruction">Instruction</a>] m =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileM">EDockerfileM</a> a -&gt; m a <a href="src/Language.Dockerfile.EDSL.html#runDockerWriter" class="link">Source</a> <a href="#v:runDockerWriter" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runDockerWriterIO" class="def">runDockerWriterIO</a> :: (<a href="../base-4.9.1.0/Control-Monad.html#t:Monad">Monad</a> m, <a href="../transformers-0.5.2.0/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> t, <a href="../base-4.9.1.0/Control-Monad.html#t:Monad">Monad</a> (t m), MonadWriter [<a href="Language-Dockerfile-Syntax.html#t:Instruction">Instruction</a>] (t m), <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> (t m)) =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileTM">EDockerfileTM</a> m a -&gt; t m a <a href="src/Language.Dockerfile.EDSL.html#runDockerWriterIO" class="link">Source</a> <a href="#v:runDockerWriterIO" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runDef" class="def">runDef</a> :: MonadWriter [t] m =&gt; (t1 -&gt; t) -&gt; t1 -&gt; m b -&gt; m b <a href="src/Language.Dockerfile.EDSL.html#runDef" class="link">Source</a> <a href="#v:runDef" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runDef2" class="def">runDef2</a> :: MonadWriter [t] m =&gt; (t1 -&gt; t2 -&gt; t) -&gt; t1 -&gt; t2 -&gt; m b -&gt; m b <a href="src/Language.Dockerfile.EDSL.html#runDef2" class="link">Source</a> <a href="#v:runDef2" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runD" class="def">runD</a> :: MonadWriter [<a href="Language-Dockerfile-Syntax.html#t:Instruction">Instruction</a>] m =&gt; <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> (m b) -&gt; m b <a href="src/Language.Dockerfile.EDSL.html#runD" class="link">Source</a> <a href="#v:runD" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:instructionPos" class="def">instructionPos</a> :: <a href="Language-Dockerfile-Syntax.html#t:Instruction">Instruction</a> -&gt; <a href="Language-Dockerfile-Syntax.html#t:InstructionPos">InstructionPos</a> <a href="src/Language.Dockerfile.EDSL.html#instructionPos" class="link">Source</a> <a href="#v:instructionPos" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:toDockerfile" class="def">toDockerfile</a> :: <a href="Language-Dockerfile-EDSL.html#t:EDockerfileM">EDockerfileM</a> a -&gt; <a href="Language-Dockerfile-Syntax.html#t:Dockerfile">Dockerfile</a> <a href="src/Language.Dockerfile.EDSL.html#toDockerfile" class="link">Source</a> <a href="#v:toDockerfile" class="selflink">#</a></p><div class="doc"><p>Runs the Dockerfile EDSL and returns a <code>Dockerfile</code> you can pretty print
 or manipulate</p></div></div><div class="top"><p class="src"><a id="v:toDockerfileStr" class="def">toDockerfileStr</a> :: <a href="Language-Dockerfile-EDSL.html#t:EDockerfileM">EDockerfileM</a> a -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="src/Language.Dockerfile.EDSL.html#toDockerfileStr" class="link">Source</a> <a href="#v:toDockerfileStr" class="selflink">#</a></p><div class="doc"><p>runs the Dockerfile EDSL and returns a <code><a href="../base-4.9.1.0/Data-String.html#t:String">String</a></code> using
 <code><a href="Language-Dockerfile.html#v:PrettyPrint">PrettyPrint</a></code></p><pre>import           Language.Dockerfile

main :: IO ()
main = writeFile &quot;something.dockerfile&quot; $ toDockerfileStr $ do
    from (tagged &quot;fpco/stack-build&quot; &quot;lts-6.9&quot;)
    add &quot;.&quot; &quot;<em>app</em>language-dockerfile&quot;
    workdir &quot;<em>app</em>language-dockerfile&quot;
    run (words &quot;stack build --test --only-dependencies&quot;)
    cmd (words &quot;stack test&quot;)
</pre></div></div><div class="top"><p class="src"><a id="v:untagged" class="def">untagged</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Dockerfile-EDSL-Types.html#t:EBaseImage">EBaseImage</a> <a href="src/Language.Dockerfile.EDSL.html#untagged" class="link">Source</a> <a href="#v:untagged" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:tagged" class="def">tagged</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Dockerfile-EDSL-Types.html#t:EBaseImage">EBaseImage</a> <a href="src/Language.Dockerfile.EDSL.html#tagged" class="link">Source</a> <a href="#v:tagged" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:digested" class="def">digested</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../bytestring-0.10.8.1/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Language-Dockerfile-EDSL-Types.html#t:EBaseImage">EBaseImage</a> <a href="src/Language.Dockerfile.EDSL.html#digested" class="link">Source</a> <a href="#v:digested" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ports" class="def">ports</a> :: [<a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a>] -&gt; <a href="Language-Dockerfile-Syntax.html#t:Ports">Ports</a> <a href="src/Language.Dockerfile.EDSL.html#ports" class="link">Source</a> <a href="#v:ports" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:port" class="def">port</a> :: <a href="../base-4.9.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="Language-Dockerfile-Syntax.html#t:Ports">Ports</a> <a href="src/Language.Dockerfile.EDSL.html#port" class="link">Source</a> <a href="#v:port" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:run" class="def">run</a> :: MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#run" class="link">Source</a> <a href="#v:run" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:entrypoint" class="def">entrypoint</a> :: MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#entrypoint" class="link">Source</a> <a href="#v:entrypoint" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:cmd" class="def">cmd</a> :: MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#cmd" class="link">Source</a> <a href="#v:cmd" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:onBuild" class="def">onBuild</a> :: MonadFree <a href="Language-Dockerfile-EDSL-Types.html#t:EInstruction">EInstruction</a> m =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileM">EDockerfileM</a> a -&gt; m () <a href="src/Language.Dockerfile.EDSL.html#onBuild" class="link">Source</a> <a href="#v:onBuild" class="selflink">#</a></p><div class="doc"><p>ONBUILD Dockerfile instruction</p><p>Each nested instruction gets emitted as a separate <code>ONBUILD</code> block</p><pre><code><a href="Language-Dockerfile-EDSL.html#v:toDockerfile">toDockerfile</a></code> $ do
    from &quot;node&quot;
    run &quot;apt-get update&quot;
    onBuild $ do
        run &quot;echo more-stuff&quot;
        run &quot;echo here&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:toDockerfileIO" class="def">toDockerfileIO</a> :: <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m <a href="Language-Dockerfile-Syntax.html#t:Dockerfile">Dockerfile</a> <a href="src/Language.Dockerfile.EDSL.html#toDockerfileIO" class="link">Source</a> <a href="#v:toDockerfileIO" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="Language-Dockerfile-EDSL.html#v:toDockerfile">toDockerfile</a></code> which allows IO actions</p></div></div><div class="top"><p class="src"><a id="v:toDockerfileStrIO" class="def">toDockerfileStrIO</a> :: <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m <a href="../base-4.9.1.0/Data-String.html#t:String">String</a> <a href="src/Language.Dockerfile.EDSL.html#toDockerfileStrIO" class="link">Source</a> <a href="#v:toDockerfileStrIO" class="selflink">#</a></p><div class="doc"><p>A version of <code><a href="Language-Dockerfile-EDSL.html#v:toDockerfileStr">toDockerfileStr</a></code> which allows IO actions</p></div></div><div class="top"><p class="src"><a id="v:runDockerfileIO" class="def">runDockerfileIO</a> :: <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m (t, <a href="Language-Dockerfile-Syntax.html#t:Dockerfile">Dockerfile</a>) <a href="src/Language.Dockerfile.EDSL.html#runDockerfileIO" class="link">Source</a> <a href="#v:runDockerfileIO" class="selflink">#</a></p><div class="doc"><p>Just runs the EDSL's writer monad</p></div></div><div class="top"><p class="src"><a id="v:runDockerfileStrIO" class="def">runDockerfileStrIO</a> :: <a href="../base-4.9.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Language-Dockerfile-EDSL.html#t:EDockerfileTM">EDockerfileTM</a> m t -&gt; m (t, <a href="../base-4.9.1.0/Data-String.html#t:String">String</a>) <a href="src/Language.Dockerfile.EDSL.html#runDockerfileStrIO" class="link">Source</a> <a href="#v:runDockerfileStrIO" class="selflink">#</a></p><div class="doc"><p>Runs the EDSL's writer monad and pretty-prints the result</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>